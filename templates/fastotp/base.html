<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}FastOTP ‚Äî Africa's Fastest OTP Delivery{% endblock %}</title>
  <meta name="description" content="{% block meta_desc %}Send OTPs across Africa with sub-second delivery via WhatsApp, SMS and Voice.{% endblock %}">

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            emerald: { 50:'#ecfdf5',100:'#d1fae5',200:'#a7f3d0',300:'#6ee7b7',400:'#34d399',500:'#10b981',600:'#059669',700:'#047857',800:'#065f46',900:'#064e3b',950:'#022c22' },
            lime: { 300:'#bef264',400:'#a3e635',500:'#84cc16' },
          },
          fontFamily: {
            display: ['"Syne"', 'sans-serif'],
            body: ['"DM Sans"', 'sans-serif'],
            mono: ['"JetBrains Mono"', 'monospace'],
          },
          animation: {
            'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'shimmer': 'shimmer 2s linear infinite',
            'float': 'float 6s ease-in-out infinite',
            'ping-slow': 'ping 2s cubic-bezier(0,0,.2,1) infinite',
          },
          keyframes: {
            shimmer: { '0%': { backgroundPosition: '-200% 0' }, '100%': { backgroundPosition: '200% 0' } },
            float: { '0%,100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-10px)' } },
          },
          backdropBlur: { xs: '2px' },
          boxShadow: {
            'glass': '0 8px 32px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.6)',
            'glow': '0 0 30px rgba(5,150,105,0.3)',
            'glow-lime': '0 0 20px rgba(190,242,100,0.4)',
          }
        }
      }
    }
  </script>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,400&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

  <!-- HTMX -->
  <script src="https://unpkg.com/htmx.org@1.9.12"></script>

  <!-- Alpine.js -->
  <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

  <!-- Lucide Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <style>
    *, *::before, *::after { box-sizing: border-box; }
    body { font-family: 'DM Sans', sans-serif; background: #f8fafc; }
    h1, h2, h3, h4, h5, .font-display { font-family: 'Syne', sans-serif; }
    .font-mono { font-family: 'JetBrains Mono', monospace; }

    /* Glass card */
    .glass {
      background: rgba(255,255,255,0.72);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255,255,255,0.85);
      box-shadow: 0 8px 32px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.7);
    }
    .glass-dark {
      background: rgba(6,47,36,0.85);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(52,211,153,0.15);
    }

    /* Button push */
    .btn-push { transition: all 0.12s ease; }
    .btn-push:active { transform: scale(0.97) translateY(1px); box-shadow: none !important; }

    /* Shimmer for pending */
    .shimmer-pending {
      background: linear-gradient(90deg, #fef9c3 0%, #fde68a 40%, #fef9c3 80%);
      background-size: 200% 100%;
      animation: shimmer 1.8s linear infinite;
    }

    /* Scrollbar */
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: #f1f5f9; }
    ::-webkit-scrollbar-thumb { background: #d1fae5; border-radius: 99px; }

    /* HTMX loading indicator */
    .htmx-indicator { opacity: 0; transition: opacity 0.2s; }
    .htmx-request .htmx-indicator { opacity: 1; }
    .htmx-request.htmx-indicator { opacity: 1; }

    /* Nav active state */
    .nav-active { color: #059669; font-weight: 600; }
    .nav-active::after { content: ''; display: block; width: 100%; height: 2px; background: #059669; border-radius: 2px; margin-top: 2px; }

    /* Pulse ring */
    .pulse-ring::before {
      content: '';
      position: absolute;
      inset: -6px;
      border-radius: inherit;
      border: 2px solid #059669;
      animation: ping 1.5s cubic-bezier(0,0,.2,1) infinite;
    }

    /* OTP Input styling */
    .otp-digit {
      width: 48px; height: 56px;
      border: 2px solid #d1fae5;
      border-radius: 12px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.5rem;
      font-weight: 600;
      text-align: center;
      background: rgba(255,255,255,0.9);
      color: #065f46;
      transition: all 0.15s;
      outline: none;
    }
    .otp-digit:focus {
      border-color: #059669;
      box-shadow: 0 0 0 3px rgba(5,150,105,0.15);
      background: #fff;
    }

    /* Map pulse dots */
    @keyframes map-pulse {
      0% { transform: scale(1); opacity: 0.8; }
      50% { transform: scale(1.5); opacity: 0.3; }
      100% { transform: scale(1); opacity: 0.8; }
    }
    .map-pulse { animation: map-pulse 2s ease-in-out infinite; }

    /* Gradient text */
    .text-gradient {
      background: linear-gradient(135deg, #059669, #bef264);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    /* Sidebar */
    .sidebar-link {
      display: flex; align-items: center; gap: 10px;
      padding: 10px 14px; border-radius: 12px;
      font-size: 0.9rem; font-weight: 500;
      color: #475569; transition: all 0.15s;
    }
    .sidebar-link:hover { background: #ecfdf5; color: #059669; }
    .sidebar-link.active { background: #d1fae5; color: #065f46; font-weight: 600; }
  </style>

  {% block extra_head %}{% endblock %}
</head>
<body class="min-h-screen bg-slate-50 text-slate-800" x-data="{}">

  {% block navbar %}
  <nav class="fixed top-0 left-0 right-0 z-50 glass border-b border-white/60">
    <div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
      <!-- Logo -->
      <a href="{% url 'home' %}" class="flex items-center gap-2.5">
        <div class="w-8 h-8 rounded-xl bg-emerald-600 flex items-center justify-center shadow-glow">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round">
            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07A19.5 19.5 0 0 1 4.69 12 19.79 19.79 0 0 1 1.56 3.56 2 2 0 0 1 3.53 1h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L7.91 8.5A16 16 0 0 0 16 16.59l.87-.88a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z"/>
          </svg>
        </div>
        <span class="font-display font-700 text-xl text-slate-900">FastOTP</span>
        <span class="hidden sm:inline text-xs font-mono text-emerald-600 bg-emerald-50 px-2 py-0.5 rounded-full border border-emerald-200">Africa</span>
      </a>

      <!-- Nav Links -->
      <div class="hidden md:flex items-center gap-6 text-sm font-medium text-slate-600">
        <a href="{% url 'home' %}" class="hover:text-emerald-700 transition-colors">Home</a>
        <a href="{% url 'coverage' %}" class="hover:text-emerald-700 transition-colors">Coverage & Rates</a>
        <a href="#docs" class="hover:text-emerald-700 transition-colors">Docs</a>
        <a href="#pricing" class="hover:text-emerald-700 transition-colors">Pricing</a>
      </div>

      <!-- CTA -->
      <div class="flex items-center gap-3">
        {% if user.is_authenticated %}
          <a href="{% url 'dashboard' %}" class="flex items-center gap-2 text-sm font-medium text-emerald-700 hover:text-emerald-900 transition-colors">
            <div class="w-8 h-8 rounded-full bg-emerald-600 flex items-center justify-center text-white text-xs font-bold">
              {{ user.avatar_initials }}
            </div>
            <span class="hidden sm:block">{{ user.first_name|default:user.username }}</span>
          </a>
        {% else %}
          <a href="{% url 'login' %}" class="text-sm font-medium text-slate-600 hover:text-slate-900 transition-colors">Sign in</a>
          <a href="{% url 'signup' %}" class="btn-push bg-emerald-600 hover:bg-emerald-700 text-white text-sm font-semibold px-5 py-2.5 rounded-xl shadow-sm hover:shadow-glow transition-all">
            Get Started ‚Üí
          </a>
        {% endif %}
      </div>
    </div>
  </nav>
  {% endblock navbar %}

  <!-- Messages -->
  {% if messages %}
  <div class="fixed top-20 right-4 z-50 space-y-2" x-data="{show:true}" x-show="show">
    {% for message in messages %}
    <div class="glass rounded-2xl px-5 py-3.5 flex items-center gap-3 shadow-lg border
      {% if message.tags == 'error' %}border-red-200{% else %}border-emerald-200{% endif %}
      max-w-sm">
      <span class="text-lg">{% if message.tags == 'error' %}‚ö†Ô∏è{% else %}‚úÖ{% endif %}</span>
      <p class="text-sm font-medium text-slate-700">{{ message }}</p>
      <button @click="show=false" class="ml-auto text-slate-400 hover:text-slate-600">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6 6 18M6 6l12 12"/></svg>
      </button>
    </div>
    {% endfor %}
  </div>
  {% endif %}

  {% block content %}{% endblock %}

  {% block footer %}
  <footer class="bg-slate-900 text-slate-400 mt-24">
    <div class="max-w-7xl mx-auto px-6 py-16">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-10">
        <div class="col-span-1 md:col-span-2">
          <div class="flex items-center gap-2.5 mb-4">
            <div class="w-8 h-8 rounded-xl bg-emerald-600 flex items-center justify-center">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07A19.5 19.5 0 0 1 4.69 12 19.79 19.79 0 0 1 1.56 3.56 2 2 0 0 1 3.53 1h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L7.91 8.5A16 16 0 0 0 16 16.59l.87-.88a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
            </div>
            <span class="font-display font-700 text-lg text-white">FastOTP</span>
          </div>
          <p class="text-sm leading-relaxed max-w-xs">
            Africa's most reliable OTP delivery infrastructure. Built for developers, trusted by enterprises.
          </p>
          <div class="flex gap-4 mt-5">
            <span class="text-xs bg-emerald-900/40 text-emerald-400 px-3 py-1 rounded-full border border-emerald-800">24+ Countries</span>
            <span class="text-xs bg-emerald-900/40 text-emerald-400 px-3 py-1 rounded-full border border-emerald-800">99.99% SLA</span>
          </div>
        </div>
        <div>
          <h5 class="font-display font-600 text-white text-sm mb-4">Product</h5>
          <ul class="space-y-2.5 text-sm">
            <li><a href="{% url 'coverage' %}" class="hover:text-emerald-400 transition-colors">Coverage & Rates</a></li>
            <li><a href="#" class="hover:text-emerald-400 transition-colors">API Docs</a></li>
            <li><a href="#" class="hover:text-emerald-400 transition-colors">Status Page</a></li>
          </ul>
        </div>
        <div>
          <h5 class="font-display font-600 text-white text-sm mb-4">Legal</h5>
          <ul class="space-y-2.5 text-sm">
            <li><a href="{% url 'privacy' %}" class="hover:text-emerald-400 transition-colors">Privacy Policy</a></li>
            <li><a href="{% url 'terms' %}" class="hover:text-emerald-400 transition-colors">Terms of Service</a></li>
          </ul>
        </div>
      </div>
      <div class="border-t border-slate-800 mt-12 pt-8 flex flex-col sm:flex-row justify-between items-center gap-4">
        <p class="text-xs">¬© 2025 FastOTP Technologies. All rights reserved.</p>
        <p class="text-xs font-mono text-emerald-600">Built for Africa üåç</p>
      </div>
    </div>
  </footer>
  {% endblock footer %}

  <script>
    // Init Lucide icons
    lucide.createIcons();

    // Auto-dismiss messages
    setTimeout(() => {
      document.querySelectorAll('[x-data="{show:true}"]').forEach(el => {
        if (el.__x) el.__x.getUnobservedData().show = false;
      });
    }, 5000);
  </script>
  {% block extra_js %}{% endblock %}
</body>
</html>
